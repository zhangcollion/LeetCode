from typing import List
from collections import defaultdict


class Solution:
    def minimizeTheDifference(self, mat: List[List[int]], target: int) -> int:
        res = set()
        res.add(0)
        for row in mat:
            tmp_res = set()
            for re in res:
                for tmp_data in row:
                    tmp_res.add(re + tmp_data)
            res = tmp_res
        return min(abs(i - target) for i in res)


if __name__ == "__main__":
    # mat = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
    # target = 13
    a = [12,1,2,1]
    a.remove(1)
    print(a)
    mat = [
        [43, 3, 22, 28, 32, 42, 36, 23, 12, 34, 8, 43, 3, 9, 44, 25, 10, 27, 50, 49, 48, 15, 41, 18, 40, 35, 45, 8, 6,
         33, 37, 47, 40, 12, 13, 43],
        [40, 44, 46, 5, 35, 21, 9, 33, 16, 16, 44, 30, 44, 26, 30, 7, 21, 15, 4, 23, 7, 26, 2, 37, 8, 48, 17, 23, 36,
         16, 22, 28, 15, 3, 9, 11],
        [9, 47, 11, 26, 10, 7, 42, 20, 49, 28, 30, 1, 8, 28, 1, 45, 7, 3, 13, 28, 1, 13, 25, 21, 10, 12, 18, 18, 17, 37,
         15, 34, 20, 20, 37, 27],
        [32, 31, 25, 50, 19, 26, 12, 42, 27, 19, 37, 30, 34, 28, 37, 45, 21, 35, 5, 37, 1, 17, 27, 38, 30, 47, 6, 33,
         35, 31, 34, 41, 18, 11, 14, 24],
        [7, 48, 15, 14, 28, 9, 33, 13, 33, 25, 11, 5, 20, 30, 10, 49, 33, 6, 48, 24, 44, 12, 15, 36, 3, 28, 36, 3, 26,
         35, 49, 20, 15, 11, 47, 26],
        [15, 13, 37, 15, 33, 17, 36, 18, 39, 17, 11, 2, 42, 40, 26, 33, 46, 4, 4, 32, 13, 36, 21, 19, 47, 42, 3, 30, 22,
         12, 29, 4, 14, 24, 17, 48],
        [29, 17, 44, 33, 17, 4, 47, 21, 1, 27, 42, 15, 12, 25, 45, 44, 31, 9, 28, 45, 19, 5, 43, 12, 49, 4, 27, 5, 35,
         38, 10, 2, 2, 24, 14, 44],
        [42, 37, 49, 35, 31, 28, 43, 50, 40, 45, 38, 22, 7, 1, 5, 14, 2, 47, 34, 50, 34, 2, 10, 2, 19, 17, 8, 2, 42, 38,
         2, 23, 18, 7, 25, 43],
        [43, 41, 43, 12, 27, 1, 16, 14, 11, 40, 46, 28, 35, 3, 37, 18, 7, 16, 38, 16, 4, 14, 43, 16, 44, 12, 40, 1, 11,
         8, 38, 13, 42, 16, 19, 22],
        [45, 6, 42, 14, 41, 9, 37, 16, 7, 24, 32, 45, 12, 14, 14, 25, 19, 1, 6, 15, 37, 20, 42, 24, 19, 35, 50, 20, 43,
         3, 49, 20, 6, 31, 33, 43],
        [9, 39, 37, 23, 19, 40, 28, 39, 28, 42, 7, 35, 12, 42, 39, 15, 40, 41, 9, 5, 30, 6, 39, 10, 31, 2, 10, 25, 13,
         31, 24, 34, 42, 9, 28, 13],
        [7, 22, 22, 20, 28, 9, 16, 38, 17, 31, 21, 1, 47, 3, 1, 8, 14, 19, 4, 29, 33, 49, 15, 14, 16, 5, 3, 2, 8, 25, 8,
         27, 37, 38, 28, 41],
        [33, 2, 49, 48, 2, 12, 8, 13, 15, 6, 46, 18, 34, 35, 18, 8, 50, 12, 50, 39, 20, 13, 48, 39, 6, 12, 44, 2, 1, 43,
         7, 42, 30, 30, 2, 42],
        [38, 1, 15, 45, 22, 44, 5, 16, 45, 18, 49, 8, 11, 13, 6, 28, 18, 32, 8, 18, 39, 40, 10, 21, 25, 15, 38, 15, 13,
         32, 29, 8, 32, 26, 42, 21],
        [46, 4, 30, 3, 28, 30, 47, 43, 46, 45, 16, 36, 27, 36, 42, 49, 4, 43, 34, 26, 18, 8, 29, 19, 20, 48, 27, 16, 49,
         44, 49, 11, 45, 16, 8, 49],
        [2, 18, 35, 45, 9, 25, 28, 38, 47, 3, 44, 44, 9, 46, 42, 3, 4, 14, 3, 46, 17, 35, 49, 12, 11, 32, 23, 44, 6, 46,
         28, 36, 40, 11, 7, 27],
        [19, 16, 1, 41, 14, 50, 18, 4, 15, 14, 44, 31, 34, 48, 32, 29, 49, 2, 3, 20, 27, 34, 40, 42, 34, 14, 28, 7, 30,
         30, 34, 43, 11, 36, 12, 20],
        [40, 10, 46, 35, 8, 34, 12, 2, 22, 47, 4, 40, 48, 39, 18, 41, 26, 21, 39, 39, 37, 41, 9, 5, 37, 16, 10, 38, 22,
         46, 21, 4, 14, 39, 4, 13],
        [24, 4, 1, 50, 44, 32, 26, 39, 10, 46, 4, 39, 42, 27, 5, 21, 11, 34, 34, 16, 7, 17, 17, 22, 32, 47, 44, 18, 30,
         47, 14, 22, 36, 1, 40, 1],
        [48, 39, 48, 38, 7, 27, 28, 27, 40, 30, 37, 18, 27, 49, 1, 17, 2, 2, 11, 39, 42, 23, 14, 14, 6, 36, 23, 19, 22,
         4, 8, 22, 44, 47, 20, 12],
        [43, 10, 17, 17, 32, 33, 36, 50, 35, 17, 19, 37, 21, 34, 49, 38, 36, 30, 28, 25, 6, 26, 6, 34, 10, 7, 21, 26,
         31, 50, 44, 38, 6, 48, 27, 26],
        [29, 40, 18, 31, 2, 36, 32, 35, 24, 41, 27, 48, 13, 39, 6, 1, 12, 44, 17, 46, 2, 19, 3, 43, 28, 50, 20, 26, 45,
         16, 43, 28, 33, 18, 39, 25],
        [26, 18, 1, 17, 12, 19, 1, 13, 2, 13, 12, 21, 18, 37, 13, 49, 44, 45, 22, 25, 38, 9, 2, 4, 7, 16, 27, 43, 8, 25,
         20, 9, 18, 13, 26, 3]]

    target = 666
    print(Solution().minimizeTheDifference(mat, target))
